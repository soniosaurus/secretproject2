<!doctype html> <!--sätter vilken typ a dokument det är-->
<html lang=en> <!--Attribut = extra info som vi inte vill ska synas i sidan. lang = Valt språk.-->
	<head> <!--headtagg är inte content, innehåller info om sidan-->
		<meta charset=utf-8> <!--teckeninkodning-->
		<title>Alpacka chooser</title>
		<link href="./main.css" rel="stylesheet" type="text/css">
	</head>
	<body> <!--huvudtaggen för allt som ska synas på sidan-->
		<body background="seigaiha.png">

		<h1 class="h1">Help me choose between...</h1> <!--header 1-->

		<img class=alpackaWinner src="http://cdn.yourepeat.com/media/gif/000/003/640/cc13b654edf1598bbbf292c89b18a3b2.gif" alt="HTML5 Icon" width="300" height="200">

		<h2 class="h2">The winner is....</h2>

		<div class="inputSection"><!--divs skapar grupperi strukturen. Class pekar ut det specifika elementet-->
				<div class="inputs">
					<input placeholder="Something"></input> <!--placeholder: text innan fältet fyllts i-->
				</div>
				<button class="addOption">Add</button>
		</div>
		<div class="resultSection"></div>
		<button class="submit">Choose!</button> <!--style = sätt att sätta attribut till element, tex färg osv, som användes innan CSS fanns-->
	<br>

	<img class=alpackaHelper src="https://media.tenor.com/images/e4a749ef7dc6b9aa2dc3f08ac4eefbd8/tenor.gif" alt="HTML5 Icon" width="200" height="200">

	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script> <!--gör så vi kan skriva javascript, src=source-->
	<script>
		$(function() { //$ = vill köra javascript
			$('.resultSection').hide() //hämtar element från HTML, lägger till funktionen hide (syns ej i sidan, display =none). ()=kör funktionen.
			$('.h2').hide()
			$('.alpackaWinner').hide()

			var add_option = function() { //variable add_option is a function 
				$('.inputs').append('<input></input>') //calling input class from html code and adding jQuery function append (adding new input element)
			}

			$('.addOption').click(add_option) //adding jQuery event to button - when click, run add_option function

			var options = [] //creating a variable that is an array
			var submit = function() {

				$('.inputSection').hide() //Hiding the input section
				$('.resultSection').css('display', 'flex') //Changing display settion for resultSection to flex to show

				$('.h1').hide()
				$('.h2').css('display', 'flex')

				$('.alpackaHelper').hide()
				$('.alpackaWinner').css('display', 'flex')


				$('input').each(function() { //finding each input in the code using jQuery and adding them to the options array
					options.push($(this).val()) //adding value of options to list, få ut värdet av elementet

				})

				var winner = options[Math.floor(Math.random() * options.length)] //variable for the winner in the array, randomized maths object. Math.random gives us a number between 0 and 1, which is multiplied by the length of options array. Math floor returns integer. 
				$('.resultSection').text(winner) //Logging the winner in resultSection

			}

			$('.submit').click(submit) //connection submit function to go/submit button

			//for loop to find all of the options and add them to the options array
		})
	</script>
	</body>
</html>